<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="invoice.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Receipt</title>
</head>
<body>
    <table border="2">
        <tbody>
          <thead>
          <tr>
            <th style="text-align: center;" width="43%">Item</th>
            <th style="text-align: center;" width="11%">Quantity</th>
            <th style="text-align: center;" width="13%">Price</th>
            <th style="text-align: center;" width="54%">Extended Price</th>
          </tr>
          </thead>
          <tbody id="invoiceTable">
          <!-- Product rows will be added dynamically using JavaScript -->
          </tbody>
          <tfoot>
          <tr>
            <td colspan="3">Sub-total</td>
            <td id="subtotal_cell">$0.00</td>
          </tr>
          <tr>
            <td colspan="3">Tax @ 5.75%</td>
            <td id="tax_cell">$0.00</td>
          </tr>
          <tr>
            <td colspan="3"><strong>Tota</strong></td>
            <td id="total_cell"><strong>$0.00</strong></td>
          </tr>
          </tfoot>
        </table>
        
      <script>
        const params = (new URL(document.location)).searchParams;
        const quantities = [];
        
        for (let i=0; i<5; i++){
          const quantityParam = params.get(`quantity${i}`);
          const quantityValue = parseFloat(quantityParam);
          if (!isNaN(quantityValue)){
            quantities[i] = quantityValue;
          } else {
            quantities[i] = 0;
          }
          }
          
          const invoiceTable = document.getElementById('invoiceTable');
          for (let i = 0; i < quantities.length; i++) {
            const row = invoiceTable.rows[i + 1];
            const quantityCell = row.cells[1];
            quantityCell.textContent = quantities[i];
          }
        </script>
        <script src="products_data.js"></script>
        <script src="products-displayPOKE12.js"></script>
        <script src="invoice3.js" type="module"></script>
</body>
</html>